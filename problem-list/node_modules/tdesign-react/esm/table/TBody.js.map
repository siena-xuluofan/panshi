{"version":3,"file":"TBody.js","sources":["../../../components/table/TBody.tsx"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport React, { type CSSProperties, type MutableRefObject, type ReactNode, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { camelCase, get, pick } from 'lodash-es';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TableClassName } from './hooks/useClassName';\nimport useRowspanAndColspan from './hooks/useRowspanAndColspan';\nimport TR, { ROW_LISTENERS, TABLE_PROPS, type TrProps } from './TR';\n\nimport type { RowMountedParams, VirtualScrollConfig } from '../hooks/useVirtualScroll';\nimport type { PaginationProps } from '../pagination';\nimport type { BaseTableProps, RowAndColFixedPosition } from './interface';\nimport type { TableRowData, TdBaseTableProps } from './type';\n\nexport interface TableBodyProps extends BaseTableProps {\n  classPrefix: string;\n  ellipsisOverlayClassName: string;\n  // 固定列 left/right 具体值\n  rowAndColFixedPosition?: RowAndColFixedPosition;\n  showColumnShadow?: { left: boolean; right: boolean };\n  tableRef?: MutableRefObject<HTMLDivElement>;\n  tableContentRef?: MutableRefObject<HTMLDivElement>;\n  cellEmptyContent: TdBaseTableProps['cellEmptyContent'];\n  tableWidth?: MutableRefObject<number>;\n  isWidthOverflow?: boolean;\n  virtualConfig: VirtualScrollConfig;\n  pagination?: PaginationProps;\n  allTableClasses?: TableClassName;\n  handleRowMounted?: (params: RowMountedParams) => void;\n}\n\nexport const ROW_AND_TD_LISTENERS = ROW_LISTENERS.concat('cell-click');\n\n// table 到 body 的相同属性\nexport const extendTableProps = [\n  'rowKey',\n  'rowClassName',\n  'rowAttributes',\n  'loading',\n  'empty',\n  'fixedRows',\n  'firstFullRow',\n  'lastFullRow',\n  'rowspanAndColspan',\n  'scroll',\n  'cellEmptyContent',\n  'onCellClick',\n  'onPageChange',\n  'onRowClick',\n  'onRowDblclick',\n  'onRowMouseover',\n  'onRowMousedown',\n  'onRowMouseenter',\n  'onRowMouseleave',\n  'onRowMouseup',\n  'onScroll',\n  'onScrollX',\n  'onScrollY',\n];\n\nconst trProperties = [\n  'classPrefix',\n  'ellipsisOverlayClassName',\n  'rowAndColFixedPosition',\n  'scroll',\n  'tableRef',\n  'tableContentRef',\n  'trs',\n  'bufferSize',\n  'isVirtual',\n  'rowHeight',\n  'scrollType',\n];\n\nexport default function TBody(props: TableBodyProps) {\n  // 如果不是变量复用，没必要对每一个参数进行解构（解构过程需要单独的内存空间存储临时变量）\n  const { data, columns, rowKey, firstFullRow, lastFullRow, virtualConfig, allTableClasses } = props;\n\n  const { isVirtualScroll } = virtualConfig;\n  const renderData = isVirtualScroll ? virtualConfig.visibleData : data;\n\n  const [global, t] = useLocaleReceiver('table');\n\n  const { skipSpansMap } = useRowspanAndColspan(data, columns, rowKey, props.rowspanAndColspan);\n  const isSkipSnapsMapNotFinish = Boolean(props.rowspanAndColspan && !skipSpansMap.size);\n\n  const { tableFullRowClasses, tableBaseClass } = allTableClasses;\n  const tbodyClasses = useMemo(() => [tableBaseClass.body], [tableBaseClass.body]);\n  const hasFullRowConfig = useMemo(() => firstFullRow || lastFullRow, [firstFullRow, lastFullRow]);\n\n  const isEmpty = !data?.length && !props.loading && !hasFullRowConfig;\n\n  const renderEmpty = (columns: TableBodyProps['columns']) => (\n    <tr className={classNames([tableBaseClass.emptyRow, { [tableFullRowClasses.base]: props.isWidthOverflow }])}>\n      <td colSpan={columns.length}>\n        <div\n          className={classNames([tableBaseClass.empty, { [tableFullRowClasses.innerFullRow]: props.isWidthOverflow }])}\n          style={props.isWidthOverflow ? { width: `${props.tableWidth.current}px` } : {}}\n        >\n          {props.empty || t(global.empty)}\n        </div>\n      </td>\n    </tr>\n  );\n\n  const renderFullRow = (type: 'first-full-row' | 'last-full-row') => {\n    const fullRowNode = {\n      'first-full-row': firstFullRow,\n      'last-full-row': lastFullRow,\n    }[type];\n    if (!fullRowNode) return null;\n\n    const rowProps: React.ComponentProps<'tr'> = {};\n    if (isVirtualScroll) {\n      const fullRowIndex = {\n        'first-full-row': 0,\n        'last-full-row': data.length - 1,\n      }[type];\n      const rowVisible = renderData.some((item) => item.__VIRTUAL_SCROLL_INDEX === fullRowIndex);\n      if (!rowVisible) return null;\n      rowProps.ref = (ref) => {\n        if (ref) {\n          // 首尾行的高度可能不固定\n          props?.handleRowMounted({\n            ref,\n            data: data[fullRowIndex],\n          });\n        }\n      };\n    }\n\n    const isFixedToLeft = props.isWidthOverflow && columns.find((col) => col.fixed === 'left');\n    const tType = camelCase(type);\n    const classes = [tableFullRowClasses.base, tableFullRowClasses[tType]];\n\n    /** innerFullRow 和 innerFullElement 同时存在，是为了保证固定列时，当前行不随内容进行横向滚动 */\n    return (\n      <tr key={type} className={classNames(classes)} {...rowProps}>\n        <td colSpan={columns.length}>\n          <div\n            className={classNames({ [tableFullRowClasses.innerFullRow]: isFixedToLeft }) || undefined}\n            style={isFixedToLeft ? { width: `${props.tableWidth.current}px` } : {}}\n          >\n            <div className={tableFullRowClasses.innerFullElement}>{fullRowNode}</div>\n          </div>\n        </td>\n      </tr>\n    );\n  };\n\n  const renderExpandedRows = (row: TableRowData, rowIndex: number) => {\n    const p = {\n      row,\n      index: rowIndex,\n      columns,\n      tableWidth: props.tableWidth.current,\n      isWidthOverflow: props.isWidthOverflow,\n    };\n    return props.renderExpandedRow?.(p);\n  };\n\n  const renderTRNodeList = () => {\n    if (isSkipSnapsMapNotFinish) return null;\n\n    const trNodeList: ReactNode[] = [];\n\n    // 首行数据\n    const firstFullRowNode = renderFullRow('first-full-row');\n    firstFullRowNode && trNodeList.push(firstFullRowNode);\n\n    // body 数据\n    renderData?.forEach((row, rowIndex) => {\n      if (row.__VIRTUAL_FAKE_DATA) return;\n\n      const getRowIndex = () => {\n        const virtualIndex = row.__VIRTUAL_SCROLL_INDEX;\n        if (isVirtualScroll && firstFullRow && virtualIndex) {\n          // 确保 serial-number 索引不受到首行 FAKE 数据影响\n          return virtualIndex - 1;\n        }\n        return virtualIndex ?? rowIndex;\n      };\n\n      const trProps = {\n        ...pick(props, TABLE_PROPS),\n        rowKey: props.rowKey || 'id',\n        row,\n        columns,\n        rowIndex: getRowIndex(),\n        dataLength: data.length,\n        skipSpansMap,\n        virtualConfig,\n        classPrefix: props.classPrefix,\n        ellipsisOverlayClassName: props.ellipsisOverlayClassName,\n        ...pick(props, trProperties),\n        pagination: props.pagination,\n      } as TrProps;\n      if (props.onCellClick) {\n        trProps.onCellClick = props.onCellClick;\n      }\n\n      const trNode = (\n        <TR key={get(row, props.rowKey || 'id') || rowIndex} {...trProps} onRowMounted={props.handleRowMounted}></TR>\n      );\n      trNodeList.push(trNode);\n\n      // 展开行数据\n      const expandedRowNode = renderExpandedRows(row, rowIndex);\n      expandedRowNode && trNodeList.push(expandedRowNode);\n    });\n\n    // 尾行数据\n    const lastFullRowNode = renderFullRow('last-full-row');\n    lastFullRowNode && trNodeList.push(lastFullRowNode);\n    return trNodeList;\n  };\n\n  // 垫上隐藏的 tr 元素高度\n  const translate = `translateY(${virtualConfig.translateY}px)`;\n  const posStyle: CSSProperties = isVirtualScroll\n    ? ({\n        transform: translate,\n        msTransform: translate,\n        MozTransform: translate,\n        WebkitTransform: translate,\n      } as CSSProperties)\n    : undefined;\n\n  return (\n    <tbody className={classNames(tbodyClasses) || undefined} style={{ ...posStyle }}>\n      {isEmpty ? renderEmpty(columns) : renderTRNodeList()}\n    </tbody>\n  );\n}\n\nTBody.displayName = 'TBody';\n"],"names":["ROW_AND_TD_LISTENERS","ROW_LISTENERS","concat","extendTableProps","trProperties","TBody","props","data","columns","rowKey","firstFullRow","lastFullRow","virtualConfig","allTableClasses","isVirtualScroll","renderData","visibleData","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","global","t","_useRowspanAndColspan","useRowspanAndColspan","rowspanAndColspan","skipSpansMap","isSkipSnapsMapNotFinish","Boolean","size","tableFullRowClasses","tableBaseClass","tbodyClasses","useMemo","body","hasFullRowConfig","isEmpty","length","loading","renderEmpty","React","createElement","className","classNames","emptyRow","_defineProperty","base","isWidthOverflow","colSpan","empty","innerFullRow","style","width","tableWidth","current","renderFullRow","type","fullRowNode","rowProps","fullRowIndex","rowVisible","some","item","__VIRTUAL_SCROLL_INDEX","ref","handleRowMounted","isFixedToLeft","find","col","fixed","tType","camelCase","classes","_objectSpread","key","innerFullElement","renderExpandedRows","row","rowIndex","_props$renderExpanded","p","index","renderExpandedRow","call","renderTRNodeList","trNodeList","firstFullRowNode","push","forEach","__VIRTUAL_FAKE_DATA","getRowIndex","virtualIndex","trProps","pick","TABLE_PROPS","dataLength","classPrefix","ellipsisOverlayClassName","pagination","onCellClick","trNode","TR","get","onRowMounted","expandedRowNode","lastFullRowNode","translate","translateY","posStyle","transform","msTransform","MozTransform","WebkitTransform","displayName"],"mappings":"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"}