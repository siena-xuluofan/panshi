{"version":3,"file":"QRCodeStatus.js","sources":["../../../components/qrcode/QRCodeStatus.tsx"],"sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport { RefreshIcon, CheckCircleFilledIcon } from 'tdesign-icons-react';\nimport type { TdQRCodeProps, StatusRenderInfo } from './type';\nimport Loading from '../loading';\nimport { QRCodeConfig } from '../config-provider/type';\n\nexport type QRcodeStatusProps = {\n  locale: QRCodeConfig;\n  classPrefix: string;\n  onRefresh?: TdQRCodeProps['onRefresh'];\n  statusRender?: TdQRCodeProps['statusRender'];\n  status: StatusRenderInfo['status'];\n};\n\nconst defaultSpin = <Loading size=\"32px\" />;\n\nexport default function QRcodeStatus({ locale, classPrefix, onRefresh, statusRender, status }: QRcodeStatusProps) {\n  const defaultExpiredNode = useMemo(\n    () => (\n      <>\n        <p className={`${classPrefix}-expired__text`}>{locale?.expiredText}</p>\n        {onRefresh && (\n          <p className={`${classPrefix}-expired__button`} onClick={onRefresh}>\n            <RefreshIcon size={16} />\n            {locale?.refreshText}\n          </p>\n        )}\n      </>\n    ),\n    [classPrefix, locale?.expiredText, locale?.refreshText, onRefresh],\n  );\n\n  const defaultScannedNode = useMemo(\n    () => (\n      <p className={`${classPrefix}-scanned`}>\n        <CheckCircleFilledIcon size={16} className={`${classPrefix}-scanned__icon`} />\n        {locale?.scannedText}\n      </p>\n    ),\n    [classPrefix, locale?.scannedText],\n  );\n\n  const defaultNodes = useMemo(\n    () => ({\n      expired: defaultExpiredNode,\n      loading: defaultSpin,\n      scanned: defaultScannedNode,\n    }),\n    [defaultExpiredNode, defaultScannedNode],\n  );\n\n  const defaultStatusRender: TdQRCodeProps['statusRender'] = useCallback(\n    (info) => defaultNodes[info.status],\n    [defaultNodes],\n  );\n\n  const mergedStatusRender = statusRender ?? defaultStatusRender;\n\n  return (\n    <>\n      {mergedStatusRender({\n        status,\n        onRefresh,\n      }) || null}\n    </>\n  );\n}\n"],"names":["defaultSpin","React","createElement","Loading","size","QRcodeStatus","locale","_ref","classPrefix","onRefresh","statusRender","status","defaultExpiredNode","useMemo","className","expiredText","onClick","RefreshIcon","refreshText","defaultScannedNode","CheckCircleFilledIcon","scannedText","defaultNodes","expired","loading","scanned","defaultStatusRender","useCallback","info","mergedStatusRender"],"mappings":"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"}